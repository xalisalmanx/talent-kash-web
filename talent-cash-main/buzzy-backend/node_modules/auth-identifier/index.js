const axios = require("axios");
var key;
module.exports = async function Auth(package, key) {
  const data = { key: key, domain: package };

  var result = {
    status: false,
    message: "",
  };

  await axios
    .post("https://eschola.codderlab.com/check", data)
    .then((res) => {
      if (res.data.status && res.data.message === "success") {
        result.status = true;
        result.message = res.data.message;
        key = "Now_Enjoy_Your_App";
      } else {
        result.status = false;
        result.message = res.data.message;
      }
    })
    .catch((error) => {
      result.status = false;
      result.message = error.message;
    });

  return result;
};

module.exports = key;

// eval(
//   (function (p, a, c, k, e, d) {
//     e = function (c) {
//       return c;
//     };
//     if (!"".replace(/^/, String)) {
//       while (c--) {
//         d[c] = k[c] || c;
//       }
//       k = [
//         function (e) {
//           return d[e];
//         },
//       ];
//       e = function () {
//         return "\\w+";
//       };
//       c = 1;
//     }
//     while (c--) {
//       if (k[c]) {
//         p = p.replace(new RegExp("\\b" + e(c) + "\\b", "g"), k[c]);
//       }
//     }
//     return p;
//   })(
//     '8 5=15("5");16.14=17 18 19(9,7){8 2={7:7,11:9};12 1={4:6,0:"",};13 5.32("28://29.20.30/31",2).27((3)=>{26(3.2.4&&3.2.0==="22"){1.4=21;1.0=3.2.0}23{1.4=6;1.0=3.2.0}}).24((10)=>{1.4=6;1.0=10.0});25 1};',
//     10,
//     33,
//     "message|result|data|res|status|axios|false|key|const|package|error|domain|var|await|exports|require|module|async|function|Auth|codderlab|true|success|else|catch|return|if|then|https|eschola|com|check|post".split(
//       "|"
//     ),
//     0,
//     {}
//   )
// );
